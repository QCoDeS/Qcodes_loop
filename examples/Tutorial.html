<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>QCoDeS tutorial &#8212; qcodes_loop  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="The Snapshot" href="The%20Snapshot.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="QCoDeS-tutorial">
<h1>QCoDeS tutorial<a class="headerlink" href="#QCoDeS-tutorial" title="Link to this heading">Â¶</a></h1>
<p>Basic overview of QCoDeS</p>
<section id="Table-of-Contents">
<h2>Table of Contents<a class="headerlink" href="#Table-of-Contents" title="Link to this heading">Â¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#Typical-QCodes-workflow"><span class="std std-ref">Workflow</span></a></p></li>
<li><p><a class="reference internal" href="#Basic-instrument-interaction"><span class="std std-ref">Basic instrument interaction</span></a></p></li>
<li><p><a class="reference internal" href="#Measuring"><span class="std std-ref">Measuring</span></a></p>
<ul>
<li><p><a class="reference internal" href="#1D-Loop-example"><span class="std std-ref">The loop: 1D example</span></a></p></li>
<li><p><a class="reference internal" href="#Example:-multiple-2D-measurements-with-live-plotting"><span class="std std-ref">The loop: 2D example</span></a></p></li>
</ul>
</li>
</ul>
</section>
<section id="Typical-QCodes-workflow">
<h2>Typical QCodes workflow<a class="headerlink" href="#Typical-QCodes-workflow" title="Link to this heading">Â¶</a></h2>
<p>(back to <a class="reference internal" href="#Table-of-Contents"><span class="std std-ref">ToC</span></a>)</p>
<ol class="arabic simple">
<li><p>Start up an interactive python session (e.g. using jupyter)</p></li>
<li><p>import desired modules</p></li>
<li><p>instantiate required instruments</p></li>
<li><p>experiment!</p></li>
</ol>
<section id="Importing">
<h3>Importing<a class="headerlink" href="#Importing" title="Link to this heading">Â¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># usually, one imports QCoDeS and some instruments</span>
<span class="c1"># In this tutorial, we import the dummy instrument</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qcodes.instrument_drivers.mock_instruments</span><span class="w"> </span><span class="kn">import</span> <span class="n">DummyInstrument</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qcodes.station</span><span class="w"> </span><span class="kn">import</span> <span class="n">Station</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">qcodes_loop.data</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">qcodes_loop.data.data_set</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qcodes_loop.data.data_set</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_data</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qcodes_loop.loops</span><span class="w"> </span><span class="kn">import</span> <span class="n">Loop</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qcodes_loop.plots.pyqtgraph</span><span class="w"> </span><span class="kn">import</span> <span class="n">QtPlot</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qcodes_loop.plots.qcmatplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">MatPlot</span>

<span class="c1"># real instruments are imported in a similar way, e.g.</span>
<span class="c1"># from qcodes.instrument_drivers.Keysight.KeysightAgilent_33XXX import WaveformGenerator_33XXX</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Logging hadn&#39;t been started.
Activating auto-logging. Current session state plus future input saved.
Filename       : C:\Users\a-halakh\.qcodes\logs\command_history.log
Mode           : append
Output logging : True
Raw input log  : False
Timestamping   : True
State          : active
Qcodes Logfile : C:\Users\a-halakh\.qcodes\logs\200325-16084-qcodes.log
</pre></div></div>
</div>
</section>
<section id="Instantiation-of-instruments">
<h3>Instantiation of instruments<a class="headerlink" href="#Instantiation-of-instruments" title="Link to this heading">Â¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># It is not enough to import the instruments, they must also be instantiated</span>
<span class="c1"># Note that this can only be done once. If you try to re-instantiate an existing instrument, QCoDeS will</span>
<span class="c1"># complain that &#39;Another instrument has the name&#39;.</span>


<span class="c1"># In this turotial, we consider a simple situation: A single DAC outputting voltages to a Digital Multi Meter</span>

<span class="n">dac</span> <span class="o">=</span> <span class="n">DummyInstrument</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;dac&quot;</span><span class="p">,</span> <span class="n">gates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ch1&#39;</span><span class="p">,</span> <span class="s1">&#39;ch2&#39;</span><span class="p">])</span>  <span class="c1"># The DAC voltage source</span>
<span class="n">dmm</span> <span class="o">=</span> <span class="n">DummyInstrument</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;dmm&quot;</span><span class="p">,</span> <span class="n">gates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;voltage&#39;</span><span class="p">])</span>  <span class="c1"># The DMM voltage reader</span>

<span class="c1"># the default dummy instrument returns always a constant value, in the following line we make it random</span>
<span class="c1"># just for the looks ðŸ’…</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>

<span class="n">dmm</span><span class="o">.</span><span class="n">voltage</span><span class="o">.</span><span class="n">get</span> <span class="o">=</span>  <span class="k">lambda</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="c1"># Finally, the instruments should be bound to a Station. Only instruments bound to the Station get recorded in the</span>
<span class="c1"># measurement metadata, so your metadata is blind to any instrument not in the Station.</span>

<span class="n">station</span> <span class="o">=</span> <span class="n">Station</span><span class="p">(</span><span class="n">dac</span><span class="p">,</span> <span class="n">dmm</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># For the tutorial, we add a parameter that loudly prints what it is being set to</span>
<span class="c1"># (It is used below)</span>

<span class="n">chX</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span><span class="w"> </span><span class="nf">myget</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">chX</span>

<span class="k">def</span><span class="w"> </span><span class="nf">myset</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">chX</span>
    <span class="n">chX</span> <span class="o">=</span> <span class="n">x</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Setting to </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>

<span class="n">dac</span><span class="o">.</span><span class="n">add_parameter</span><span class="p">(</span><span class="s1">&#39;verbose_channel&#39;</span><span class="p">,</span>
                  <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Verbose Channel&#39;</span><span class="p">,</span>
                  <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;V&#39;</span><span class="p">,</span>
                  <span class="n">get_cmd</span><span class="o">=</span><span class="n">myget</span><span class="p">,</span>
                  <span class="n">set_cmd</span><span class="o">=</span><span class="n">myset</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="The-location-provider-can-be-set-globally">
<h3>The location provider can be set globally<a class="headerlink" href="#The-location-provider-can-be-set-globally" title="Link to this heading">Â¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">loc_provider</span> <span class="o">=</span> <span class="n">qcodes_loop</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">FormatLocation</span><span class="p">(</span><span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;data/</span><span class="si">{date}</span><span class="s1">/#</span><span class="si">{counter}</span><span class="s1">_</span><span class="si">{name}</span><span class="s1">_</span><span class="si">{time}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">qcodes_loop</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">data_set</span><span class="o">.</span><span class="n">DataSet</span><span class="o">.</span><span class="n">location_provider</span><span class="o">=</span><span class="n">loc_provider</span>
</pre></div>
</div>
</div>
<p>We are now ready to play with the instruments!</p>
</section>
</section>
<section id="Basic-instrument-interaction">
<h2>Basic instrument interaction<a class="headerlink" href="#Basic-instrument-interaction" title="Link to this heading">Â¶</a></h2>
<p>(back to <a class="reference internal" href="#Table-of-Contents"><span class="std std-ref">ToC</span></a>)</p>
<p>The interaction with instruments mainly consists of <code class="docutils literal notranslate"><span class="pre">setting</span></code> and <code class="docutils literal notranslate"><span class="pre">getting</span></code> the instrumentsâ€™ <code class="docutils literal notranslate"><span class="pre">parameters</span></code>. A parameter can be anything from the frequency of a signal generator over the output impedance of an AWG to the traces from a lock-in amplifier. In this tutorial we â€“for didactical reasonsâ€“ only consider scalar parameters.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The voltages output by the dac can be set like so</span>
<span class="n">dac</span><span class="o">.</span><span class="n">ch1</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="c1"># Now the output is 8 V. We can read this value back</span>
<span class="n">dac</span><span class="o">.</span><span class="n">ch1</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
8
</pre></div></div>
</div>
<p>Setting IMMEDIATELY changes a value. For voltages, that is sometimes undesired. The value can instead be ramped by stepping and waiting.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dac</span><span class="o">.</span><span class="n">verbose_channel</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">dac</span><span class="o">.</span><span class="n">verbose_channel</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>  <span class="c1"># immediate voltage jump of 9 Volts (!)</span>

<span class="c1"># first set a step size</span>
<span class="n">dac</span><span class="o">.</span><span class="n">verbose_channel</span><span class="o">.</span><span class="n">step</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="c1"># and a wait time</span>
<span class="n">dac</span><span class="o">.</span><span class="n">verbose_channel</span><span class="o">.</span><span class="n">inter_delay</span> <span class="o">=</span> <span class="mf">0.01</span> <span class="c1"># in seconds</span>

<span class="c1"># now a &quot;staircase ramp&quot; is performed by setting</span>
<span class="n">dac</span><span class="o">.</span><span class="n">verbose_channel</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># after such a ramp, it is a good idea to reset the step and delay</span>
<span class="n">dac</span><span class="o">.</span><span class="n">verbose_channel</span><span class="o">.</span><span class="n">step</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># and a wait time</span>
<span class="n">dac</span><span class="o">.</span><span class="n">verbose_channel</span><span class="o">.</span><span class="n">inter_delay</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Setting to 0
Setting to 9
Setting to 8.9
Setting to 8.8
Setting to 8.7
Setting to 8.6
Setting to 8.5
Setting to 8.4
Setting to 8.3
Setting to 8.2
Setting to 8.1
Setting to 8.0
Setting to 7.9
Setting to 7.8
Setting to 7.7
Setting to 7.6
Setting to 7.5
Setting to 7.4
Setting to 7.3
Setting to 7.2
Setting to 7.1
Setting to 7.0
Setting to 6.9
Setting to 6.8
Setting to 6.699999999999999
Setting to 6.6
Setting to 6.5
Setting to 6.4
Setting to 6.3
Setting to 6.199999999999999
Setting to 6.1
Setting to 6.0
Setting to 5.9
Setting to 5.8
Setting to 5.699999999999999
Setting to 5.6
Setting to 5.5
Setting to 5.4
Setting to 5.3
Setting to 5.199999999999999
Setting to 5.1
Setting to 5
</pre></div></div>
</div>
<p>NOTE: that is ramp is blocking and has a low resolution since each <code class="docutils literal notranslate"><span class="pre">set</span></code> on a real instrument has a latency on the order of ms. Some instrument drivers support native-resolution asynchronous ramping. Always refer to your instrument driver if you need high performance of an instrument.</p>
</section>
<section id="Measuring">
<h2>Measuring<a class="headerlink" href="#Measuring" title="Link to this heading">Â¶</a></h2>
<p>(back to <a class="reference internal" href="#Table-of-Contents"><span class="std std-ref">ToC</span></a>)</p>
<section id="1D-Loop-example">
<h3>1D Loop example<a class="headerlink" href="#1D-Loop-example" title="Link to this heading">Â¶</a></h3>
<section id="Defining-the-Loop-and-actions">
<h4>Defining the <code class="docutils literal notranslate"><span class="pre">Loop</span></code> and actions<a class="headerlink" href="#Defining-the-Loop-and-actions" title="Link to this heading">Â¶</a></h4>
<p>Before you run a measurement loop you do two things:</p>
<ol class="arabic simple">
<li><p>You describe what parameter(s) to vary and how. This is the creation of a <code class="docutils literal notranslate"><span class="pre">Loop</span></code> object: <code class="docutils literal notranslate"><span class="pre">loop</span> <span class="pre">=</span> <span class="pre">Loop(sweep_values,</span> <span class="pre">...)</span></code></p></li>
<li><p>You describe what to do at each step in the loop. This is <code class="docutils literal notranslate"><span class="pre">loop.each(*actions)</span></code></p></li>
</ol>
<ul class="simple">
<li><p>measurements (any object with a <code class="docutils literal notranslate"><span class="pre">.get</span></code> method will be interpreted as a measurement)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Task</span></code>: some callable (which can have arguments with it) to be executed each time through the loop. Does not generate data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Wait</span></code>: a specialized <code class="docutils literal notranslate"><span class="pre">Task</span></code> just to wait a certain time.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BreakIf</span></code>: some condition that, if it returns truthy, breaks (this level of) the loop</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># For instance, sweep a dac voltage and record with the dmm</span>

<span class="n">loop</span> <span class="o">=</span> <span class="n">Loop</span><span class="p">(</span><span class="n">dac</span><span class="o">.</span><span class="n">ch1</span><span class="o">.</span><span class="n">sweep</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="n">delay</span><span class="o">=</span><span class="mf">0.001</span><span class="p">)</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="n">dmm</span><span class="o">.</span><span class="n">voltage</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">get_data_set</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;testsweep&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_1d</span> <span class="o">=</span> <span class="n">QtPlot</span><span class="p">()</span>  <span class="c1"># create a plot</span>
<span class="n">plot_1d</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">dmm_voltage</span><span class="p">)</span>  <span class="c1"># add a graph to the plot</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">with_bg_task</span><span class="p">(</span><span class="n">plot_1d</span><span class="o">.</span><span class="n">update</span><span class="p">,</span> <span class="n">plot_1d</span><span class="o">.</span><span class="n">save</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>  <span class="c1"># run the loop</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The plot may be recalled easily</span>
<span class="n">plot_1d</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_Tutorial_18_0.png" src="../_images/examples_Tutorial_18_0.png" />
</div>
</div>
</section>
<section id="Output-of-the-loop">
<h4>Output of the loop<a class="headerlink" href="#Output-of-the-loop" title="Link to this heading">Â¶</a></h4>
<ul class="simple">
<li><p>A loop returns a dataset.</p></li>
<li><p>The representation of the dataset shows what arrays it contains and where it is saved.</p></li>
<li><p>The dataset initially starts out empty (filled with NANâ€™s) and getâ€™s filled while the Loop getâ€™s executed.</p></li>
</ul>
<p>Once the measurement is done, take a look at the file in finder/explorer (the dataset.location should give you the relative path). Note also the snapshot that captures the settings of all instruments at the start of the Loop. This metadata is also accesible from the dataset and captures a snapshot of each instrument listed in the station.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dac</span><span class="o">.</span><span class="n">snapshot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;functions&#39;: {},
 &#39;submodules&#39;: {},
 &#39;__class__&#39;: &#39;qcodes.instrument_drivers.mock_instruments.DummyInstrument&#39;,
 &#39;parameters&#39;: {&#39;IDN&#39;: {&#39;value&#39;: {&#39;vendor&#39;: None,
    &#39;model&#39;: &#39;dac&#39;,
    &#39;serial&#39;: None,
    &#39;firmware&#39;: None},
   &#39;raw_value&#39;: {&#39;vendor&#39;: None,
    &#39;model&#39;: &#39;dac&#39;,
    &#39;serial&#39;: None,
    &#39;firmware&#39;: None},
   &#39;ts&#39;: &#39;2020-03-25 12:33:24&#39;,
   &#39;__class__&#39;: &#39;qcodes.instrument.parameter.Parameter&#39;,
   &#39;full_name&#39;: &#39;dac_IDN&#39;,
   &#39;unit&#39;: &#39;&#39;,
   &#39;label&#39;: &#39;IDN&#39;,
   &#39;vals&#39;: &#39;&lt;Anything&gt;&#39;,
   &#39;post_delay&#39;: 0,
   &#39;name&#39;: &#39;IDN&#39;,
   &#39;instrument&#39;: &#39;qcodes.instrument_drivers.mock_instruments.DummyInstrument&#39;,
   &#39;instrument_name&#39;: &#39;dac&#39;,
   &#39;inter_delay&#39;: 0},
  &#39;ch1&#39;: {&#39;value&#39;: 20.0,
   &#39;raw_value&#39;: 20.0,
   &#39;ts&#39;: &#39;2020-03-25 12:33:44&#39;,
   &#39;__class__&#39;: &#39;qcodes.instrument.parameter.Parameter&#39;,
   &#39;full_name&#39;: &#39;dac_ch1&#39;,
   &#39;unit&#39;: &#39;V&#39;,
   &#39;label&#39;: &#39;Gate ch1&#39;,
   &#39;vals&#39;: &#39;&lt;Numbers -800&lt;=v&lt;=400&gt;&#39;,
   &#39;post_delay&#39;: 0,
   &#39;name&#39;: &#39;ch1&#39;,
   &#39;instrument&#39;: &#39;qcodes.instrument_drivers.mock_instruments.DummyInstrument&#39;,
   &#39;instrument_name&#39;: &#39;dac&#39;,
   &#39;inter_delay&#39;: 0},
  &#39;ch2&#39;: {&#39;value&#39;: 0,
   &#39;raw_value&#39;: 0,
   &#39;ts&#39;: &#39;2020-03-25 12:33:24&#39;,
   &#39;__class__&#39;: &#39;qcodes.instrument.parameter.Parameter&#39;,
   &#39;full_name&#39;: &#39;dac_ch2&#39;,
   &#39;unit&#39;: &#39;V&#39;,
   &#39;label&#39;: &#39;Gate ch2&#39;,
   &#39;vals&#39;: &#39;&lt;Numbers -800&lt;=v&lt;=400&gt;&#39;,
   &#39;post_delay&#39;: 0,
   &#39;name&#39;: &#39;ch2&#39;,
   &#39;instrument&#39;: &#39;qcodes.instrument_drivers.mock_instruments.DummyInstrument&#39;,
   &#39;instrument_name&#39;: &#39;dac&#39;,
   &#39;inter_delay&#39;: 0},
  &#39;verbose_channel&#39;: {&#39;value&#39;: 5,
   &#39;raw_value&#39;: 5,
   &#39;ts&#39;: &#39;2020-03-25 12:33:24&#39;,
   &#39;__class__&#39;: &#39;qcodes.instrument.parameter.Parameter&#39;,
   &#39;full_name&#39;: &#39;dac_verbose_channel&#39;,
   &#39;unit&#39;: &#39;V&#39;,
   &#39;label&#39;: &#39;Verbose Channel&#39;,
   &#39;post_delay&#39;: 0,
   &#39;name&#39;: &#39;verbose_channel&#39;,
   &#39;instrument&#39;: &#39;qcodes.instrument_drivers.mock_instruments.DummyInstrument&#39;,
   &#39;instrument_name&#39;: &#39;dac&#39;,
   &#39;inter_delay&#39;: 0}},
 &#39;name&#39;: &#39;dac&#39;}
</pre></div></div>
</div>
<p>There is also a more human-readable version of the essential information.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dac</span><span class="o">.</span><span class="n">print_readable_snapshot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
dac:
        parameter      value
--------------------------------------------------------------------------------
IDN             :       {&#39;vendor&#39;: None, &#39;model&#39;: &#39;dac&#39;, &#39;serial&#39;: None, &#39;firmware&#39;...
ch1             :       20 (V)
ch2             :       0 (V)
verbose_channel :       5 (V)
</pre></div></div>
</div>
</section>
</section>
</section>
<section id="Loading-data">
<h2>Loading data<a class="headerlink" href="#Loading-data" title="Link to this heading">Â¶</a></h2>
<p>The dataset knows its own location, which we may use to load data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">location</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">location</span>
<span class="n">loaded_data</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">MatPlot</span><span class="p">(</span><span class="n">loaded_data</span><span class="o">.</span><span class="n">dmm_voltage</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_Tutorial_26_0.png" src="../_images/examples_Tutorial_26_0.png" />
</div>
</div>
</section>
<section id="Example:-multiple-2D-measurements-with-live-plotting">
<h2>Example: multiple 2D measurements with live plotting<a class="headerlink" href="#Example:-multiple-2D-measurements-with-live-plotting" title="Link to this heading">Â¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Loops can be nested, so that a new sweep runs for each point in the outer loop</span>

<span class="n">loop</span> <span class="o">=</span> <span class="n">Loop</span><span class="p">(</span><span class="n">dac</span><span class="o">.</span><span class="n">ch1</span><span class="o">.</span><span class="n">sweep</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mf">0.1</span><span class="p">)</span><span class="o">.</span><span class="n">loop</span><span class="p">(</span><span class="n">dac</span><span class="o">.</span><span class="n">ch2</span><span class="o">.</span><span class="n">sweep</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mf">0.1</span><span class="p">)</span><span class="o">.</span><span class="n">each</span><span class="p">(</span>
    <span class="n">dmm</span><span class="o">.</span><span class="n">voltage</span>
    <span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">get_data_set</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;2D_test&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span> <span class="o">=</span> <span class="n">QtPlot</span><span class="p">()</span>
<span class="n">plot</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">dmm_voltage</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">1200</span><span class="p">,</span> <span class="mi">500</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">loop</span><span class="o">.</span><span class="n">with_bg_task</span><span class="p">(</span><span class="n">plot</span><span class="o">.</span><span class="n">update</span><span class="p">,</span> <span class="n">plot</span><span class="o">.</span><span class="n">save</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Started at 2020-03-25 12:33:46
DataSet:
   location = &#39;data/2020-03-25/#014_2D_test_12-33-46&#39;
   &lt;Type&gt;   | &lt;array_id&gt;  | &lt;array.name&gt; | &lt;array.shape&gt;
   Setpoint | dac_ch1_set | ch1          | (6,)
   Setpoint | dac_ch2_set | ch2          | (6, 6)
   Measured | dmm_voltage | voltage      | (6, 6)
Finished at 2020-03-25 12:33:51
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_Tutorial_30_0.png" src="../_images/examples_Tutorial_30_0.png" />
</div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">qcodes_loop</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">QCoDeS_loop api</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">QCoDeS_loop examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Combined%20Parameters.html">Combined Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="Comprehensive%20Plotting%20How-To.html">Comprehensive Plotting How-To</a></li>
<li class="toctree-l2"><a class="reference internal" href="Datasaving%20examples.html">Datasaving Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="Legacy.html">Legacy features</a></li>
<li class="toctree-l2"><a class="reference internal" href="Measure%20without%20a%20Loop.html">Measure without a Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="The%20Location%20Formatter.html">The Location Formatter</a></li>
<li class="toctree-l2"><a class="reference internal" href="The%20Snapshot.html">The Snapshot</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">QCoDeS tutorial</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">QCoDeS_loop examples</a><ul>
      <li>Previous: <a href="The%20Snapshot.html" title="previous chapter">The Snapshot</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2023, QCoDeS developers.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 9.0.4</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/examples/Tutorial.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>